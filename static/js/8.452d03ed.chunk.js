(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{323:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(322),i=t(74);a.a=function(e){var a=e.field;return r.a.createElement(o.a,{name:a},function(e){return r.a.createElement(i.a,{basic:!0,color:"red",pointing:"below",size:"small"},e)})}},335:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(457),i=t(322),c=t(323);a.a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{field:"email"}),r.a.createElement(o.a.Field,null,r.a.createElement(i.b,{type:"email",name:"email",placeholder:"Email"})))}},336:function(e,a,t){"use strict";var n=t(332),r=t(0),o=t.n(r),i=t(457),c=t(454),u=t(46),l=t(322),s=t(323);a.a=function(e){var a=e.placeholder,t=e.name,m=Object(r.useState)(!1),d=Object(n.a)(m,2),p=d[0],f=d[1],b=function(e){return f(!p)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{field:t||"password"}),o.a.createElement(i.a.Field,null,o.a.createElement(l.b,{type:"password",name:t||"password"},function(e){var t=e.field;return o.a.createElement(c.a,Object.assign({},t,{type:p?"text":"password",icon:o.a.createElement(u.a,{name:p?"eye":"eye slash",circular:!0,link:!0,onClick:b}),placeholder:a||"Password"}))})))}},351:function(e,a,t){"use strict";var n=t(332),r=t(0),o=t.n(r),i=t(457),c=t(317),u=t(447),l=t(322),s=t(41),m=t(335),d=t(336),p=t(323),f=t(327),b=t.n(f),h=t(328),g=t(368),v=t(455),E=t(46),k=t(324),w=t(325),y=t.n(w);function j(){var e=Object(k.a)(["\n  {\n    me {\n      _id\n      name\n    }\n  }\n"]);return j=function(){return e},e}var O=y()(j());function S(){var e=Object(k.a)(["\n  mutation($data: AuthFacebookInput!) {\n    authFacebook(data: $data) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]);return S=function(){return e},e}function I(){var e=Object(k.a)(["\n  mutation($data: AuthGoogleInput!) {\n    authGoogle(data: $data) {\n      user {\n        _id\n        name\n      }\n      token\n    }\n  }\n"]);return I=function(){return e},e}var F=y()(I()),x=y()(S()),q=function(e){var a=e.path,t=e.history,n=e.setIsLoading,r=Object(v.a)(F),i=function(){var e=Object(h.a)(b.a.mark(function e(a){var o,i,c,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.profileObj,i=a.googleId,e.prev=1,e.next=4,r({variables:{data:{name:o.name,googleId:i,email:o.email}},update:function(e,a){var t=a.data;e.writeQuery({query:O,data:{me:t.authGoogle.user}})}});case 4:c=e.sent,u=c.data,localStorage.setItem("token",u.authGoogle.token),t.push("/secret"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(!1);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(g.GoogleLogin,{clientId:"750525016321-hs6um0d2o34tksfeg9da78da501fto25.apps.googleusercontent.com",onSuccess:i,onFailure:i,render:function(e){return o.a.createElement("button",{onClick:function(){n(!0),e.onClick()},disabled:e.disabled,className:"ui google plus labeled icon button",type:"button"},o.a.createElement(E.a,{name:"google"})," ",a," With Google")}})},L=t(370),R=t.n(L),G=function(e){var a=e.path,t=e.history,n=e.setIsLoading,r=Object(v.a)(x),i=function(){var e=Object(h.a)(b.a.mark(function e(a){var o,i,c,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.name,i=a.userID,e.prev=1,e.next=4,r({variables:{data:{email:i,name:o,facebookId:i}},update:function(e,a){var t=a.data;e.writeQuery({query:O,data:{me:t.authFacebook.user}})}});case 4:c=e.sent,u=c.data,localStorage.setItem("token",u.authFacebook.token),t.push("/secret"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(!1);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(R.a,{appId:"351814088793425",autoLoad:!1,fields:"name,email,picture",callback:i,render:function(e){return o.a.createElement("button",{onClick:function(){n(!0),e.onClick()},disabled:e.disabled,className:"ui facebook right floated labeled icon button",type:"button"},o.a.createElement(E.a,{name:"facebook f"})," ",a," With Facebook")}})};a.a=function(e){var a=e.showUserName,t=e.validationSchema,f=e.initialValues,b=e.onSubmit,h=e.showForgotPasswordLink,g=void 0!==h&&h,v=e.path,E=void 0===v?"Register":v,k=e.history,w=Object(r.useState)(!1),y=Object(n.a)(w,2),j=y[0],O=y[1];return o.a.createElement(l.c,{initialValues:f,validationSchema:t,onSubmit:b},function(e){return o.a.createElement(i.a,{onSubmit:e.handleSubmit,loading:e.isSubmitting||j},a?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{field:"name"}),o.a.createElement(i.a.Field,null,o.a.createElement(l.b,{type:"text",name:"name",placeholder:"Username"}))):null,o.a.createElement(m.a,null),o.a.createElement(d.a,null),g?o.a.createElement(s.b,{to:"/forgot-password",style:{float:"right",paddingTop:9}},"Forgot Password?"):null,o.a.createElement(c.a,{type:"submit",basic:!0},"Submit"),o.a.createElement(u.a,{horizontal:!0},o.a.createElement("p",null,o.a.createElement("em",null,"OR"))),o.a.createElement(q,{path:E,history:k,setIsLoading:O}),o.a.createElement(G,{path:E,history:k,setIsLoading:O}))})}},460:function(e,a,t){"use strict";t.r(a);var n=t(327),r=t.n(n),o=t(328),i=t(0),c=t.n(i),u=t(455),l=t(337),s=t(318),m=t(447),d=t(449),p=t(351),f=t(324),b=t(325),h=t.n(b);function g(){var e=Object(f.a)(["\n  mutation($data: RegisterInputType!) {\n    register(data: $data) {\n      user {\n        name\n        _id\n      }\n      token\n    }\n  }\n"]);return g=function(){return e},e}var v=h()(g());function E(){var e=Object(f.a)(["\n  {\n    me {\n      _id\n      name\n    }\n  }\n"]);return E=function(){return e},e}var k=h()(E()),w=l.object().shape({name:l.string().min(2,"Too Short!").max(20,"Too Long!").required("Required"),email:l.string().email("Invalid email").required("Required"),password:l.string().min(8,"Too Short!").max(30,"Too Long!").required("Required")});a.default=function(e){var a=Object(u.a)(v);Object(i.useEffect)(function(){localStorage.getItem("token")&&e.history.push("/secret")},[]);var t=function(){var t=Object(o.a)(r.a.mark(function t(n,o){var i,c;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({variables:{data:n},update:function(e,a){var t=a.data;e.writeQuery({query:k,data:{me:t.register.user}})}});case 3:i=t.sent,c=i.data,localStorage.setItem("token",c.register.token),e.history.push("/secret"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),o.setFieldError("email","Email is in use please try another one"),o.setSubmitting(!1);case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"frm"},c.a.createElement(s.a,{stacked:!0},c.a.createElement(m.a,{horizontal:!0},c.a.createElement(d.a,null,c.a.createElement("em",null,"Register"))),c.a.createElement(p.a,Object.assign({showUserName:!0,initialValues:{name:"",email:"",password:""},validationSchema:w,onSubmit:t},e))))}}}]);
//# sourceMappingURL=8.452d03ed.chunk.js.map