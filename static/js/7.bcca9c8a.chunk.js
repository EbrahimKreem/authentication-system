(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{328:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(327),i=t(68);a.a=function(e){var a=e.field;return r.a.createElement(o.a,{name:a},function(e){return r.a.createElement(i.a,{basic:!0,color:"red",pointing:"below",size:"small"},e)})}},340:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(458),i=t(327),c=t(328);a.a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{field:"email"}),r.a.createElement(o.a.Field,null,r.a.createElement(i.b,{type:"email",name:"email",placeholder:"Email"})))}},341:function(e,a,t){"use strict";var n=t(337),r=t(0),o=t.n(r),i=t(458),c=t(455),l=t(43),u=t(327),s=t(328);a.a=function(e){var a=e.placeholder,t=e.name,m=Object(r.useState)(!1),d=Object(n.a)(m,2),p=d[0],f=d[1],b=function(e){return f(!p)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{field:t||"password"}),o.a.createElement(i.a.Field,null,o.a.createElement(u.b,{type:"password",name:t||"password"},function(e){var t=e.field;return o.a.createElement(c.a,Object.assign({},t,{type:p?"text":"password",icon:o.a.createElement(l.a,{name:p?"eye":"eye slash",circular:!0,link:!0,onClick:b}),placeholder:a||"Password"}))})))}},354:function(e,a,t){"use strict";var n=t(337),r=t(0),o=t.n(r),i=t(458),c=t(322),l=t(448),u=t(327),s=t(39),m=t(340),d=t(341),p=t(328),f=t(332),b=t.n(f),h=t(333),g=t(372),v=t(456),E=t(43),k=t(329),w=t(330),y=t.n(w);function j(){var e=Object(k.a)(["\n  {\n    me {\n      _id\n      name\n    }\n  }\n"]);return j=function(){return e},e}var O=y()(j());function S(){var e=Object(k.a)(["\n  mutation($data: AuthFacebookInput!) {\n    authFacebook(data: $data) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]);return S=function(){return e},e}function I(){var e=Object(k.a)(["\n  mutation($data: AuthGoogleInput!) {\n    authGoogle(data: $data) {\n      user {\n        _id\n        name\n      }\n      token\n    }\n  }\n"]);return I=function(){return e},e}var F=y()(I()),L=y()(S()),x=function(e){var a=e.path,t=e.history,n=e.setIsLoading,r=Object(v.a)(F),i=function(){var e=Object(h.a)(b.a.mark(function e(a){var o,i,c,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.profileObj,i=a.googleId,e.prev=1,e.next=4,r({variables:{data:{name:o.name,googleId:i,email:o.email}},update:function(e,a){var t=a.data;e.writeQuery({query:O,data:{me:t.authGoogle.user}})}});case 4:c=e.sent,l=c.data,localStorage.setItem("token",l.authGoogle.token),t.push("/secret"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(!1);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(g.GoogleLogin,{clientId:"750525016321-hs6um0d2o34tksfeg9da78da501fto25.apps.googleusercontent.com",onSuccess:i,onFailure:i,render:function(e){return o.a.createElement("button",{onClick:function(){n(!0),e.onClick()},disabled:e.disabled,className:"ui google plus labeled icon button",type:"button"},o.a.createElement(E.a,{name:"google"})," ",a," With Google")}})},q=t(373),C=t.n(q),G=function(e){var a=e.path,t=e.history,n=e.setIsLoading,r=Object(v.a)(L),i=function(){var e=Object(h.a)(b.a.mark(function e(a){var o,i,c,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.name,i=a.userID,e.prev=1,e.next=4,r({variables:{data:{email:i,name:o,facebookId:i}},update:function(e,a){var t=a.data;e.writeQuery({query:O,data:{me:t.authFacebook.user}})}});case 4:c=e.sent,l=c.data,localStorage.setItem("token",l.authFacebook.token),t.push("/secret"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n(!1);case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(C.a,{appId:"351814088793425",autoLoad:!1,fields:"name,email,picture",callback:i,render:function(e){return o.a.createElement("button",{onClick:function(){n(!0),e.onClick()},disabled:e.disabled,className:"ui facebook right floated labeled icon button",type:"button"},o.a.createElement(E.a,{name:"facebook f"})," ",a," With Facebook")}})};a.a=function(e){var a=e.showUserName,t=e.validationSchema,f=e.initialValues,b=e.onSubmit,h=e.showForgotPasswordLink,g=void 0!==h&&h,v=e.path,E=void 0===v?"Register":v,k=e.history,w=Object(r.useState)(!1),y=Object(n.a)(w,2),j=y[0],O=y[1];return o.a.createElement(u.c,{initialValues:f,validationSchema:t,onSubmit:b},function(e){return o.a.createElement(i.a,{onSubmit:e.handleSubmit,loading:e.isSubmitting||j},a?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{field:"name"}),o.a.createElement(i.a.Field,null,o.a.createElement(u.b,{type:"text",name:"name",placeholder:"Username"}))):null,o.a.createElement(m.a,null),o.a.createElement(d.a,null),g?o.a.createElement(s.b,{to:"/forgot-password",style:{float:"right",paddingTop:9}},"Forgot Password?"):null,o.a.createElement(c.a,{type:"submit",basic:!0},"Submit"),o.a.createElement(l.a,{horizontal:!0},o.a.createElement("p",null,o.a.createElement("em",null,"OR"))),o.a.createElement(x,{path:E,history:k,setIsLoading:O}),o.a.createElement(G,{path:E,history:k,setIsLoading:O}))})}},460:function(e,a,t){"use strict";t.r(a);var n=t(332),r=t.n(n),o=t(333),i=t(0),c=t.n(i),l=t(456),u=t(342),s=t(323),m=t(448),d=t(450),p=t(354),f=t(329),b=t(330),h=t.n(b);function g(){var e=Object(f.a)(["\n  mutation($data: LoginInputType!) {\n    login(data: $data) {\n      user {\n        _id\n        name\n      }\n      token\n    }\n  }\n"]);return g=function(){return e},e}var v=h()(g());function E(){var e=Object(f.a)(["\n  {\n    me {\n      _id\n      name\n    }\n  }\n"]);return E=function(){return e},e}var k=h()(E()),w=u.object().shape({email:u.string().email("Invalid email").required("Required"),password:u.string().min(8,"Too Short!").max(30,"Too Long!").required("Required")});a.default=function(e){var a=Object(l.a)(v);Object(i.useEffect)(function(){localStorage.getItem("token")&&e.history.push("/secret")},[]);var t=function(){var t=Object(o.a)(r.a.mark(function t(n,o){var i,c,l,u;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({variables:{data:n},update:function(e,a){var t=a.data;e.writeQuery({query:k,data:{me:t.register.user}})}});case 3:i=t.sent,c=i.data,localStorage.setItem("token",c.login.token),e.history.push("/secret"),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(0),l=t.t0.message.split(":")[1],u=l.toLowerCase().includes("email"),o.setFieldError(u?"email":"password",l),o.setSubmitting(!1);case 15:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"frm"},c.a.createElement(s.a,{stacked:!0},c.a.createElement(m.a,{horizontal:!0},c.a.createElement(d.a,null,c.a.createElement("em",null,"Login"))),c.a.createElement(p.a,Object.assign({showUserName:!1,initialValues:{email:"",password:""},validationSchema:w,onSubmit:t,showForgotPasswordLink:!0},e,{path:"Login"}))))}}}]);
//# sourceMappingURL=7.bcca9c8a.chunk.js.map